webpackJsonp([12],{doo0:function(e,t,r){var a=r("Z0/y")(r("wbBL"),r("ujpE"),!1,null,null,null);e.exports=a.exports},ujpE:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{flat:""}},[r("form",{on:{submit:function(t){t.preventDefault(),e.update(t)},keydown:function(t){e.form.onKeydown(t)}}},[r("v-card-title",{attrs:{"primary-title":""}},[r("h5",{staticClass:"subheading mb-0"},[e._v(e._s(e.$t("your_info")))])]),e._v(" "),r("v-card-text",[r("text-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:30",expression:"'required|max:30'"}],attrs:{form:e.form,label:e.$t("name"),"v-errors":e.errors,value:e.form.name,counter:"30",name:"name"},on:{"update:value":function(t){e.$set(e.form,"name",t)}}}),e._v(" "),r("email-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{form:e.form,label:e.$t("email"),"v-errors":e.errors,value:e.form.email,name:"email"},on:{"update:value":function(t){e.$set(e.form,"email",t)}}})],1),e._v(" "),r("v-card-actions",[r("submit-button",{attrs:{flat:!0,form:e.form,label:e.$t("update")}})],1)],1)])},staticRenderFns:[]}},wbBL:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("lC5x"),n=r.n(a),s=r("J0Oq"),o=r.n(s),u=r("+ZOo"),i=r.n(u),m=r("9rMa");t.default={name:"profile-view",data:function(){return{form:new i.a({name:"",email:""})}},computed:Object(m.mapGetters)({user:"authUser"}),created:function(){var e=this;this.form.keys().forEach(function(t){e.form[t]=e.user[t]})},methods:{update:function(){var e=this;return o()(n.a.mark(function t(){var r,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.formHasErrors();case 2:if(!t.sent){t.next=4;break}return t.abrupt("return");case 4:return e.$emit("busy",!0),t.next=7,e.form.patch("/api/settings/profile");case 7:return r=t.sent,a=r.data,t.next=11,e.$store.dispatch("updateUser",{user:a});case 11:e.$emit("busy",!1),e.$store.dispatch("message/responseMessage",{type:"success",text:e.$t("info_updated")});case 13:case"end":return t.stop()}},t,e)}))()}}}}});