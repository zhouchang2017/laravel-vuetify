webpackJsonp([12],{Ao2v:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Xxa5"),n=r.n(a),o=r("2gGM"),s=r.n(o),u=r("NYxO");t.default={name:"profile-view",data:function(){return{form:new s.a({name:"",email:""})}},computed:Object(u.mapGetters)({user:"authUser"}),created:function(){var e=this;this.form.keys().forEach(function(t){e.form[t]=e.user[t]})},methods:{update:function(){var e,t=this;return(e=n.a.mark(function e(){var r,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.formHasErrors();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return");case 4:return t.$emit("busy",!0),e.next=7,t.form.patch("/api/settings/profile");case 7:return r=e.sent,a=r.data,e.next=11,t.$store.dispatch("updateUser",{user:a});case 11:t.$emit("busy",!1),t.$store.dispatch("message/responseMessage",{type:"success",text:t.$t("info_updated")});case 13:case"end":return e.stop()}},e,t)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function a(n,o){try{var s=t[n](o),u=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}("next")})})()}}}},doo0:function(e,t,r){var a=r("VU/8")(r("Ao2v"),r("hUEg"),!1,null,null,null);e.exports=a.exports},hUEg:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{flat:""}},[r("form",{on:{submit:function(t){return t.preventDefault(),e.update(t)},keydown:function(t){e.form.onKeydown(t)}}},[r("v-card-title",{attrs:{"primary-title":""}},[r("h5",{staticClass:"subheading mb-0"},[e._v(e._s(e.$t("your_info")))])]),e._v(" "),r("v-card-text",[r("text-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:30",expression:"'required|max:30'"}],attrs:{form:e.form,label:e.$t("name"),"v-errors":e.errors,value:e.form.name,counter:"30",name:"name"},on:{"update:value":function(t){e.$set(e.form,"name",t)}}}),e._v(" "),r("email-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{form:e.form,label:e.$t("email"),"v-errors":e.errors,value:e.form.email,name:"email"},on:{"update:value":function(t){e.$set(e.form,"email",t)}}})],1),e._v(" "),r("v-card-actions",[r("submit-button",{attrs:{flat:!0,form:e.form,label:e.$t("update")}})],1)],1)])},staticRenderFns:[]}}});